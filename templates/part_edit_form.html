{% extends "base.html" %}
{% block content %}
<h1>Edit Part</h1>
<form method="post">
  <div class="form-row">
    <label>Machine <span style="color: #a0aec0; font-weight: normal;">(optional)</span></label>
    <select name="machine_id">
      <option value="">-- Select Machine --</option>
      {% for m in machines %}
        <option value="{{ m.id }}" {% if part.machine_id == m.id %}selected{% endif %}>
          {% if m.model %}
            {{ m.model }}
          {% else %}
            Machine
          {% endif %}
          {% if m.serial_number %} - {{ m.serial_number }}{% endif %}
        </option>
      {% endfor %}
    </select>
  </div>
  <div class="form-row">
    <label>Part Number</label>
    <input type="text" name="part_number" value="{{ part.part_number or '' }}" placeholder="Enter part number">
  </div>
  <div class="form-row">
    <label>Description</label>
    <input type="text" name="description" value="{{ part.description or '' }}" placeholder="Enter description">
  </div>
  <div class="form-row">
    <label>Head</label>
    <input type="text" name="head" value="{{ part.head or '' }}" placeholder="Enter head number or 'all'" list="head-options">
    <datalist id="head-options">
      <option value="all">
      <option value="1">
      <option value="2">
      <option value="3">
      <option value="4">
      <option value="5">
      <option value="6">
      <option value="7">
      <option value="8">
      <option value="9">
      <option value="10">
      <option value="11">
      <option value="12">
      <option value="13">
      <option value="14">
      <option value="15">
    </datalist>
  </div>
  <div class="form-row">
    <label>Quantity</label>
    <input type="number" step="1" min="1" name="quantity" value="{{ part.quantity|int if part.quantity else 1 }}" placeholder="1">
  </div>
  <p>
    <button type="submit" class="btn btn-primary">Save</button>
    <a href="{{ url_for('job_detail', job_id=part.job_id) }}" class="btn btn-secondary">Cancel</a>
  </p>
</form>
{% endblock %}

